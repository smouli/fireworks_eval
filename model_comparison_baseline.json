{
  "prompt_type": "baseline",
  "models_evaluated": 1,
  "summary": [
    {
      "model": "llama-v3p1-8b-instruct",
      "prompt_type": "baseline",
      "accuracy": 30.0,
      "average_score": 0.46575,
      "correct": 3,
      "wrong_results": 5,
      "syntax_errors": 2,
      "average_latency_ms": 411.7366552352905,
      "total_cost": 0.0005595999999999999,
      "average_cost_per_query": 5.595999999999999e-05,
      "total_tokens": 2798
    }
  ],
  "detailed_results": {
    "accounts/fireworks/models/llama-v3p1-8b-instruct": {
      "model": "accounts/fireworks/models/llama-v3p1-8b-instruct",
      "prompt_type": "baseline",
      "total": 10,
      "correct": 3,
      "syntax_errors": 2,
      "wrong_results": 5,
      "total_score": 4.6575,
      "average_score": 0.46575,
      "metrics": {
        "total_latency_ms": 4117.366552352905,
        "average_latency_ms": 411.7366552352905,
        "total_cost": 0.0005595999999999999,
        "average_cost_per_query": 5.595999999999999e-05,
        "total_prompt_tokens": 2388,
        "total_completion_tokens": 410,
        "total_tokens": 2798
      },
      "details": [
        {
          "question": "What are the top 5 best-selling genres by total sales?",
          "status": "correct",
          "generated_sql": "SELECT T1.Name, SUM(T3.UnitPrice * T3.Quantity) AS TotalSales FROM Genre AS T1 INNER JOIN Track AS T2 ON T1.GenreId = T2.GenreId INNER JOIN InvoiceLine AS T3 ON T2.TrackId = T3.TrackId GROUP BY T1.Name ORDER BY TotalSales DESC LIMIT 5",
          "score": 1.0,
          "score_breakdown": {
            "syntax_score": 0.3,
            "result_score": 0.7,
            "total_score": 1.0,
            "details": {
              "syntax_valid": true,
              "exact_match": true,
              "matching_rows": 5,
              "total_expected_rows": 5,
              "order_matters": true
            }
          },
          "metrics": {
            "latency_ms": 724.5151996612549,
            "cost": 6.26e-05,
            "prompt_tokens": 241,
            "completion_tokens": 72,
            "total_tokens": 313
          }
        },
        {
          "question": "How many customers does each country have?",
          "status": "wrong_results",
          "generated_sql": "SELECT COUNT(CustomerId) ,  Country FROM Customer GROUP BY Country",
          "expected": [
            {
              "Country": "USA",
              "CustomerCount": 13
            },
            {
              "Country": "Canada",
              "CustomerCount": 8
            },
            {
              "Country": "France",
              "CustomerCount": 5
            }
          ],
          "actual": [
            {
              "COUNT(CustomerId)": 1,
              "Country": "Argentina"
            },
            {
              "COUNT(CustomerId)": 1,
              "Country": "Australia"
            },
            {
              "COUNT(CustomerId)": 1,
              "Country": "Austria"
            }
          ],
          "score": 0.3525,
          "score_breakdown": {
            "syntax_score": 0.3,
            "result_score": 0.0525,
            "total_score": 0.3525,
            "details": {
              "syntax_valid": true,
              "exact_match": false,
              "matching_rows": 0,
              "total_expected_rows": 24,
              "column_match_ratio": 0.5,
              "order_matters": false
            }
          },
          "metrics": {
            "latency_ms": 198.2269287109375,
            "cost": 5e-05,
            "prompt_tokens": 236,
            "completion_tokens": 14,
            "total_tokens": 250
          }
        },
        {
          "question": "Which employee has the most customers assigned to them?",
          "status": "wrong_results",
          "generated_sql": "SELECT T1.FirstName, T1.LastName, COUNT(T2.CustomerId) FROM Employee AS T1 INNER JOIN Customer AS T2 ON T1.EmployeeId = T2.SupportRepId GROUP BY T1.EmployeeId, T1.FirstName, T1.LastName ORDER BY COUNT(T2.CustomerId) DESC LIMIT 1",
          "expected": [
            {
              "EmployeeName": "Jane Peacock",
              "CustomerCount": 21
            }
          ],
          "actual": [
            {
              "FirstName": "Jane",
              "LastName": "Peacock",
              "COUNT(T2.CustomerId)": 21
            }
          ],
          "score": 0.3,
          "score_breakdown": {
            "syntax_score": 0.3,
            "result_score": 0.0,
            "total_score": 0.3,
            "details": {
              "syntax_valid": true,
              "exact_match": false,
              "matching_rows": 0,
              "total_expected_rows": 1,
              "column_match_ratio": 0.0,
              "order_matters": true
            }
          },
          "metrics": {
            "latency_ms": 543.5593128204346,
            "cost": 6.04e-05,
            "prompt_tokens": 238,
            "completion_tokens": 64,
            "total_tokens": 302
          }
        },
        {
          "question": "What is the average invoice total for each country?",
          "status": "wrong_results",
          "generated_sql": "SELECT AVG(T1.Total) ,  T2.Country FROM Invoice AS T1 INNER JOIN Customer AS T2 ON T1.CustomerId = T2.CustomerId GROUP BY T2.Country",
          "expected": [
            {
              "BillingCountry": "Chile",
              "AverageInvoiceTotal": 6.659999999999999
            },
            {
              "BillingCountry": "Ireland",
              "AverageInvoiceTotal": 6.517142857142857
            },
            {
              "BillingCountry": "Hungary",
              "AverageInvoiceTotal": 6.517142857142857
            }
          ],
          "actual": [
            {
              "AVG(T1.Total)": 5.374285714285714,
              "Country": "Argentina"
            },
            {
              "AVG(T1.Total)": 5.374285714285714,
              "Country": "Australia"
            },
            {
              "AVG(T1.Total)": 6.088571428571428,
              "Country": "Austria"
            }
          ],
          "score": 0.3,
          "score_breakdown": {
            "syntax_score": 0.3,
            "result_score": 0.0,
            "total_score": 0.3,
            "details": {
              "syntax_valid": true,
              "exact_match": false,
              "matching_rows": 0,
              "total_expected_rows": 24,
              "column_match_ratio": 0.0,
              "order_matters": false
            }
          },
          "metrics": {
            "latency_ms": 508.4500312805176,
            "cost": 5.52e-05,
            "prompt_tokens": 238,
            "completion_tokens": 38,
            "total_tokens": 276
          }
        },
        {
          "question": "List all albums by the artist 'AC/DC'",
          "status": "correct",
          "generated_sql": "SELECT T1.Title FROM Album AS T1 INNER JOIN Artist AS T2 ON T1.ArtistId = T2.ArtistId WHERE T2.Name = 'AC/DC'",
          "score": 1.0,
          "score_breakdown": {
            "syntax_score": 0.3,
            "result_score": 0.7,
            "total_score": 1.0,
            "details": {
              "syntax_valid": true,
              "exact_match": true,
              "matching_rows": 2,
              "total_expected_rows": 2,
              "order_matters": false
            }
          },
          "metrics": {
            "latency_ms": 382.69591331481934,
            "cost": 5.5400000000000005e-05,
            "prompt_tokens": 239,
            "completion_tokens": 38,
            "total_tokens": 277
          }
        },
        {
          "question": "What are the names and email addresses of customers from Brazil?",
          "status": "correct",
          "generated_sql": "SELECT FirstName, LastName, Email FROM Customer WHERE Country = 'Brazil'",
          "score": 1.0,
          "score_breakdown": {
            "syntax_score": 0.3,
            "result_score": 0.7,
            "total_score": 1.0,
            "details": {
              "syntax_valid": true,
              "exact_match": true,
              "matching_rows": 5,
              "total_expected_rows": 5,
              "order_matters": false
            }
          },
          "metrics": {
            "latency_ms": 159.08002853393555,
            "cost": 5.1e-05,
            "prompt_tokens": 240,
            "completion_tokens": 15,
            "total_tokens": 255
          }
        },
        {
          "question": "How many tracks are there in each playlist?",
          "status": "wrong_results",
          "generated_sql": "SELECT T1.Name, COUNT(T2.TrackId) FROM Playlist AS T1 INNER JOIN PlaylistTrack AS T2 ON T1.PlaylistId = T2.PlaylistId GROUP BY T1.Name",
          "expected": [
            {
              "Name": "Music",
              "TrackCount": 3290
            },
            {
              "Name": "Music",
              "TrackCount": 3290
            },
            {
              "Name": "90\u2019s Music",
              "TrackCount": 1477
            }
          ],
          "actual": [
            {
              "Name": "90\u2019s Music",
              "COUNT(T2.TrackId)": 1477
            },
            {
              "Name": "Brazilian Music",
              "COUNT(T2.TrackId)": 39
            },
            {
              "Name": "Classical",
              "COUNT(T2.TrackId)": 75
            }
          ],
          "score": 0.3525,
          "score_breakdown": {
            "syntax_score": 0.3,
            "result_score": 0.0525,
            "total_score": 0.3525,
            "details": {
              "syntax_valid": true,
              "exact_match": false,
              "matching_rows": 0,
              "total_expected_rows": 18,
              "column_match_ratio": 0.5,
              "order_matters": false
            }
          },
          "metrics": {
            "latency_ms": 375.7200241088867,
            "cost": 5.560000000000001e-05,
            "prompt_tokens": 237,
            "completion_tokens": 41,
            "total_tokens": 278
          }
        },
        {
          "question": "What is the total revenue generated in the year 2021?",
          "status": "syntax_error",
          "generated_sql": "SELECT SUM(T2.UnitPrice * T3.Quantity) AS TotalRevenue FROM Invoice AS T1 INNER JOIN InvoiceLine AS T2 ON T1.InvoiceId = T2.InvoiceId INNER JOIN `Order` AS T3 ON T1.OrderId = T3.OrderId WHERE YEAR(T1.InvoiceDate) = 2021",
          "error": "Error executing query: no such table: Order",
          "score": 0.0,
          "score_breakdown": {
            "syntax_score": 0.0,
            "result_score": 0.0,
            "total_score": 0.0,
            "details": {
              "syntax_valid": false
            }
          },
          "metrics": {
            "latency_ms": 698.2300281524658,
            "cost": 6.2e-05,
            "prompt_tokens": 241,
            "completion_tokens": 69,
            "total_tokens": 310
          }
        },
        {
          "question": "Which 5 tracks have the longest duration?",
          "status": "syntax_error",
          "generated_sql": "SELECT TOP 5 Name, Milliseconds FROM Track ORDER BY Milliseconds DESC",
          "error": "Error executing query: near \"5\": syntax error",
          "score": 0.0,
          "score_breakdown": {
            "syntax_score": 0.0,
            "result_score": 0.0,
            "total_score": 0.0,
            "details": {
              "syntax_valid": false
            }
          },
          "metrics": {
            "latency_ms": 227.4930477142334,
            "cost": 5.060000000000001e-05,
            "prompt_tokens": 237,
            "completion_tokens": 16,
            "total_tokens": 253
          }
        },
        {
          "question": "What is the most popular media type based on number of tracks?",
          "status": "wrong_results",
          "generated_sql": "SELECT T1.Name FROM MediaType AS T1 INNER JOIN Track AS T2 ON T1.MediaTypeId = T2.MediaTypeId GROUP BY T1.Name ORDER BY COUNT(T2.TrackId) DESC LIMIT 1",
          "expected": [
            {
              "Name": "MPEG audio file",
              "TrackCount": 3034
            }
          ],
          "actual": [
            {
              "Name": "MPEG audio file"
            }
          ],
          "score": 0.3525,
          "score_breakdown": {
            "syntax_score": 0.3,
            "result_score": 0.0525,
            "total_score": 0.3525,
            "details": {
              "syntax_valid": true,
              "exact_match": false,
              "matching_rows": 0,
              "total_expected_rows": 1,
              "column_match_ratio": 0.5,
              "order_matters": true
            }
          },
          "metrics": {
            "latency_ms": 299.3960380554199,
            "cost": 5.6800000000000005e-05,
            "prompt_tokens": 241,
            "completion_tokens": 43,
            "total_tokens": 284
          }
        }
      ]
    }
  }
}